
移动端适配方案的演变
=======

>**目录**
>-1. 移动端适配历史
>-2. 你真的解决移动端兼容了吗？
>-3. 适配方案的取舍

### **1.移动适配历史**
#### **1.0 200? -- 2007 pc缩放** 
在手机普及的初期，各大网站的平台都是以pc为主，加之手机性能有限，几乎没有网站愿意为了移动端单独设计一套样式。

在那个时代，用户打开手机访问网站页面的效果，往往还都是pc版的缩放页面。用户用两个手指缩放，控制显示pc端的页面大小，然后点击交互。

这种交互方式在现在看来毫无疑问是及其落后的，但是在智能手机尚未普及的初期，受限于手机性能与用户尚未养成手机的操作习惯，这种‘毫无人性’的交互方式算是宣布了混沌的移动端适配即将来临了。

#### **1.1 2007 -- 2013 Response  （代表：bootstrap）**
回到手机发展的时间轴，第一代iPhone的发布可以算移动端发展的一个里程碑。

苹果根据最新的html5标准，为用户带来了第一部完全兼容前端最新标准的手机浏览器，safari。同时iPhone的大卖更是刺激了竞争对手Android的发展，使其主动使用webkit内核作为内置浏览器的引擎。

在两大手机平台的努力下，原本杂乱无章的移动端有了空前的一致性。前端人员再也不用过多纠结移动端的兼容性，网页的开发速度也开始大步提升。

在这个时代，前端程序员们终于可以开始使用兼容性提升的css3来重构页面，移动端开始流行了Response响应式布局，通过media query来控制不同分辨率下的显示效果。

同时，pc端也不用彻底改动html代码，只要稍加修改，兼容移动端的Response页面就成型了。

例：<a href="http://thedb.github.io/aboutme-2015/intel/Bootstrap%20101%20Template.htm" target="_blank">响应式布局</a>

在那个时代，twitter的bootstrap横空出世。简洁的api，丰富的效果，几乎完美的兼容性，直接一统Response江湖。各大网站纷纷跟进使用bootstrap，前端仿佛进入了盛世...

然鹅
```
<a href="http://www.youzhan.org/">bootstrap网站案例</a>
```

在各大网站都开始引用bootstrap的时候，bootstrap自己本身的优点和缺点暴露无疑

> **优点**
> api清晰简洁，容易上手
> 兼容性强
> 各种插件效果丰富
> 默认ui风格鲜明，不用培养用户习惯

> **缺点**
> 文件体积非常大，当时整体网络带宽很低，移动网络更是处于2G/3G时代，加载时间过长影响用户体验
> Response网站必须使用大量图文来填充内容，用户交互点少
> 出现了大量ui风格一样的网站，用户审美疲倦

#### **1.2 2013 -- 至今 百花齐放**
在Response网站开始逐渐流行的时候，更多的互联网公司看准了移动端未来发展的趋势和潜力：

移动网络进军4G时代，用户有了更大的带宽和流量；手机的发展则像摩尔定律一样，性能一年一翻倍；

以BAT为首的互联网公司开始布局移动端，网站的主要入口开始倾向于移动端。更多的公司开始意识到需要给用户提供更好的体验。

可以说从这个时候开始，'前端开发'成为了一个网站不可或缺的需求。

##### **1.2.1 em&rem**
em = 1 ÷ 父元素的font-size × 需要转换的像素值
rem = 1 ÷ 根元素的font-size × 需要转换的像素值

如果存在一个选择器的font-size属性值为 20px,那么1em=20px
```
h1 { font-size: 20px } /* 1em = 20px */
p { font-size: 16px } /* 1em = 16px */
```

而rem则是比较根元素的font-size属性值来转换
```
html{ font-size: 37.5px }
h1 { font-size: 1rem } /* 1rem = 37.5px */
p { font-size: 0.5rem } /* 1rem = 37.5px */
```

em&rem这两个单位的流行，也要感谢Response设计原则。因为在移动端各手机的屏幕分辨率大小会直接影响到文字的显示效果：

如果设计稿较低分辨率设计，则大屏幕下文字过少。
如果设计稿较高分辨率设计，则小屏幕无法显示更多文字。

em&rem则能统一好文字的显示效果，使得移动端的文字显示能有一个比较好的解决方案。
同时，因为rem是与根目录的计算单位，在移动端也能解决容器的宽高&定位，布局多了更多的选择性。


> **优点**
> 解决了移动端的文字显示效果差距过大的问题
> 可以用于移动端容器的宽高&定位。

> **缺点**
> 兼容性不高，pc端需ie9以上
> 单位计算复杂，要提高效率，需配合工具
> Android&iPhone最小字体不一致，在小屏幕上会有显示效果不统一的问题

##### **1.2.2 viewport**
viewport 翻译为中文可以叫做"视区"。
手机浏览器是把页面放在一个虚拟的"窗口"（viewport）中，通常这个虚拟的“窗口”（viewport）比屏幕宽，这样就不用把每个网页挤到很小的窗口中（这样会破坏没有针对手机浏览器优化的网页的布局），用户可以通过平移和缩放来看网页的不同部分。
```
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="viewport" content="width=640, initial-scale=1" />
<meta name="viewport" content="width=750, initial-scale=1" />
```
viewport在初期是一个增加用户体验的标签，通过不同的设置，控制用户视图大小；允许用户缩放等功能。

这时候又不得不提到iPhone，从iPhone5开始，几代的iPhone都沿用16:9的分辨率。因为iPhone在手机界中近乎无敌的市场占有率，各大厂商开始相继模仿iPhone的成功模式。

安卓在近几代的手机中均使用了16:9的屏幕分辨率，这大大化简了设计师&前端对不同设备的兼容性调整。ui只需要设计一套16:9的设计稿，前端就能完成对大部分设备的样式调整。

关于更多viewport信息
<a href="https://www.quirksmode.org/mobile/viewports2.html">英文原版</a>
<a href="https://www.w3cplus.com/css/viewports.html">中文翻译</a>

> **优点**
> 兼容性强
> 无序多余代码，一行代码就能完成
> 可以沿用设计稿的px，开发变得简单

> **缺点**
> 非主流的浏览器分辨率无法获得较好体验
> 屏幕拉伸会使页面模糊
> 如果有大量动画，拉伸的viewport会消耗cpu的性能，导致动画不流畅
> 手机分辨率进入新的时代，这种方式即将被淘汰

### **2.你真的解决移动端兼容了吗？**

<img src="./images/huawei.png">